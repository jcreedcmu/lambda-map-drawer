!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/js/",n(n.s=1)}([function(e,t,n){"use strict";function r(e){return e*e}function o(e){return Math.sqrt(r(e.x)+r(e.y))}function i(e,t){return{x:e.x+t.x,y:e.y+t.y}}function a(e,t){return{x:e.x/t,y:e.y/t}}Object.defineProperty(t,"__esModule",{value:!0}),t.sqr=r,t.vlen=o,t.vnorm=function(e){return a(e,o(e))},t.vsub=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},t.vplus=i,t.vdiv=a,t.vscale=function(e,t){return{x:e.x*t,y:e.y*t}},t.vavg=function(e,t){return a(i(e,t),2)},t.vint=function(e){return{x:Math.floor(e.x),y:Math.floor(e.y)}}},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const o=n(2),i=n(3),a=n(4),c=r(n(0)),s=16,l=7,d=9;function u(e,t){const n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}function f(e){const t=document.getElementById(e),n=t.getContext("2d");return t.width=500,t.height=500,n.fillStyle="white",n.fillRect(0,0,500,500),{c:t,d:n}}function h(e,t){t.d.putImageData(function(e){const t=new ImageData(e.w,e.h);for(let n=0;n<e.w;n++)for(let r=0;r<e.h;r++){const o=r*e.w+n,i=4*(r*e.w+n);t.data[i+0]=17*e.data[o]&255,t.data[i+1]=71*e.data[o]&255,t.data[i+2]=157*e.data[o]&255,t.data[i+3]=e.data[o]?128:0}return t}(e.array),0,0),Object.keys(e.avg).forEach(n=>{const r=e.avg[n];t.d.fillStyle="white",t.d.fillRect(Math.floor(r.x)-3,Math.floor(r.y)-3,6,6)})}function g(e,t){const{d:n}=t;e.edges.forEach(({a:t,b:r,m:o},i)=>{const a=e.vertices[t].p,c=e.vertices[r].p;n.beginPath(),n.moveTo(a.x,a.y),n.quadraticCurveTo(2*o.x-(a.x+c.x)/2,2*o.y-(a.y+c.y)/2,c.x,c.y),n.strokeStyle="black",n.lineWidth=1,n.stroke(),y("renderDebugId")&&(n.beginPath(),n.fillStyle="white",n.arc(o.x,o.y,l,0,2*Math.PI),n.fill(),n.textAlign="center",n.textBaseline="middle",n.font="bold 10px arial",n.fillStyle="#404",n.fillText(i+"",o.x,o.y))});for(let[t,{p:r}]of Object.entries(e.vertices))n.fillStyle="#fed",3!=e.vertices[t].edges.length&&(n.fillStyle="red"),t==e.root&&(n.fillStyle="white"),n.strokeStyle="black",n.lineWidth=1,n.beginPath(),n.arc(r.x,r.y,d,0,2*Math.PI),n.fill(),n.stroke(),y("renderDebugId")&&(n.textAlign="center",n.textBaseline="middle",n.font="bold 9px arial",n.fillStyle="#000",n.fillText(t,r.x,r.y));y("renderLambda")&&(n.save(),n.fillStyle="white",n.globalAlpha=.2,n.fillRect(0,0,500,500),n.restore())}function m(e,t,n,r){e.strokeStyle="black",e.lineWidth=1,e.stroke(),e.save(),e.translate(t.x,t.y),e.rotate(Math.atan2(r.y-n.y,r.x-n.x)),e.beginPath(),e.moveTo(0,-3),e.lineTo(2,0),e.lineTo(0,3),e.lineTo(8,0),e.fillStyle="black",e.fill(),e.restore()}function p(e,t){const{d:n}=t;e.edges.forEach(t=>{if(null==t)return;const{a:r,b:o,m:i,tgt:a}=t;if(null==e.vertices[r])return;if(null==e.vertices[o])return;const c=e.vertices[r].p,s=e.vertices[o].p;n.beginPath(),n.moveTo(c.x,c.y),n.quadraticCurveTo(2*i.x-(c.x+s.x)/2,2*i.y-(c.y+s.y)/2,s.x,s.y),"b"==a?m(n,i,c,s):m(n,i,s,c)});for(let[t,r]of Object.entries(e.vertices)){if(null==r)return;const{p:o,t:i}=r;n.fillStyle=t==e.root?"#aaf":"app"==i?"white":"black",n.strokeStyle="black",n.lineWidth=1,n.beginPath(),n.arc(o.x,o.y,d,0,2*Math.PI),n.fill(),n.stroke()}document.getElementById("lambda").innerText=function e(t,n,r,o){switch(r.t){case"lam":{const i=String.fromCharCode(t+97),a="lam"==o?"":"Î»",c=e(t+1,n.concat([i]),r.b,"lam"),s=a+i+c.s;return{s:"lam"==o||"top"==o?s:"("+s+")",counter:c.counter}}case"app":{const i="lam"==o?".":"",a=e(t,n.slice(0,r.split),r.f,"appl"),c=e(a.counter,n.slice(r.split),r.arg,"appr"),s=i+a.s+" "+c.s;return{s:"appr"==o?"("+s+")":s,counter:c.counter}}case"var":return{s:n[0],counter:t}}}(0,[],function e(t){switch(t.t){case"lam":{const{e:n,size:r}=e(t.b);return{e:{t:"lam",b:n},size:r-1}}case"app":{const{e:n,size:r}=e(t.f),{e:o,size:i}=e(t.arg);return{e:{t:"app",f:n,arg:o,split:r},size:r+i}}case"var":return{e:t,size:1}}}(e.exp).e,"top").s}function y(e){return document.getElementById(e).checked}const v=new a.Loader;v.image("./img/example1.png","example1"),v.image("./img/example2.png","example2"),v.image("./img/example3.png","example3"),v.image("./img/cube.png","cube"),v.image("./img/dodecahedron.png","dodecahedron"),v.image("./img/prism.png","prism"),v.image("./img/tetrahedron.png","tetrahedron"),v.image("./img/tutte.png","tutte"),v.done(function(){const e=f("c1");e.d.drawImage(v.data.img.example1,0,0);const t=f("c2");function n(){document.getElementById("lambda").innerText="",t.d.clearRect(0,0,t.c.width,t.c.height);const n=e.d.getImageData(0,0,e.c.width,e.c.height),r=o.findConjoined(n);y("renderDebug")&&h(r,t);const a=i.findGraph(r),s=i.findRootedGraph(a);if(y("renderCyclic")&&function(e,t){const{d:n}=t;for(const t of Object.values(e.vertices)){const r=["red","green","blue"];t.edges.length<=3&&t.edges.forEach((o,i)=>{const a=e.edges[o.i].m,s=c.vplus(c.vscale(c.vnorm(c.vsub(a,t.p)),15),t.p);n.beginPath(),n.moveTo(t.p.x,t.p.y),n.lineTo(s.x,s.y),n.strokeStyle=r[i],n.lineWidth=3,n.lineCap="round",n.stroke()})}}(s,t),y("renderGraph")&&g(s,t),y("renderLambda"))try{p(i.findLambdaGraph(s),t)}catch(e){document.getElementById("lambda").innerHTML='<font color="red">All nodes must have exactly three edges to compute lambda graph.</font>',console.log(e),g(s,t)}}["renderDebug","renderDebugId","renderCyclic","renderGraph","renderLambda"].forEach(e=>{document.getElementById(e).addEventListener("change",n)});let r=void 0;function a(t){b.selectedIndex=-1,t=c.vint(t);const n=Array.from(document.getElementsByName("paint")).find(e=>e.checked).value,r=function(e){switch(e){case"node":return s;case"edge":return s/2;case"erase":return 2*s}}(n);e.d.fillStyle=function(e){switch(e){case"node":return"red";case"edge":return"blue";case"erase":return"white"}}(n),e.d.fillRect(t.x-r/2,t.y-r/2,r,r)}function l(t){const n=u(t,e.c);null!=r?function e(t,n){if(Math.max(Math.abs(t.x-n.x),Math.abs(t.y-n.y))<s/2)a(n);else{const r={x:Math.floor((t.x+n.x)/2),y:Math.floor((t.y+n.y)/2)};e(t,r),e(r,n)}}(r,n):a(n),r=n}function d(e){document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",l),n()}function m(){e.d.fillStyle="white",e.d.fillRect(0,0,e.c.width,e.c.height)}document.getElementById("clear").addEventListener("click",()=>{m(),n()});const b=document.getElementById("examples");b.addEventListener("change",()=>{e.d.drawImage(v.data.img[b.value],0,0),n()}),e.c.addEventListener("mousedown",t=>{if(1!=t.buttons)return;const n=u(t,e.c);r=n,a(n),document.addEventListener("mousemove",l),document.addEventListener("mouseup",d)}),document.addEventListener("paste",t=>{Array.from(t.clipboardData.items).forEach(t=>{if("file"===t.kind){const r=t.getAsFile(),o=new FileReader;o.onload=(t=>{const r=new Image;"string"==typeof o.result&&(r.src=o.result,r.addEventListener("load",()=>{m(),e.d.drawImage(r,Math.floor((e.c.width-r.width)/2),Math.floor((e.c.height-r.height)/2)),n()}))}),o.readAsDataURL(r)}})}),n()})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={r:255,g:255,b:255},o={r:255,g:0,b:0},i={r:0,g:0,b:255};function a(e,t,n){const r=4*(n*e.width+t);return{r:e.data[r],g:e.data[r+1],b:e.data[r+2]}}function c(e,t,n){const r=n*e.w+t;return e.data[r]}function s(e,t,n,r){const o=n*e.w+t;e.data[o]=r}function l(e,t){return e.r==t.r&&e.g==t.g&&e.b==t.b}t.findConjoined=function(e){let t=1;const n={},d={},u={};function f(e,t){d[t]||(d[t]={x:0,y:0},u[t]=0),d[t].x+=e.x,d[t].y+=e.y,u[t]++}function h(r,d,u){const h=t++;var g;n[h]=l(g=u,o)?"node":l(g,i)?"edge":"unknown";const p=[{x:r,y:d}];let y;for(;y=p.pop();){const{x:t,y:n}=y;c(m,t,n)||l(u,a(e,t,n))&&(s(m,t,n,h),f({x:t,y:n},h),p.push({x:t+1,y:n}),p.push({x:t-1,y:n}),p.push({x:t,y:n+1}),p.push({x:t,y:n-1}))}}const g=new Uint16Array(e.width*e.height),m={w:e.width,h:e.height,data:g};for(let t=0;t<m.w;t++)for(let n=0;n<m.h;n++){m.w;const o=a(e,t,n);l(o,r)||c(m,t,n)||h(t,n,o)}for(let e=1;e<t;e++)d[e].x/=u[e],d[e].y/=u[e];const p={};function y(e,t){e!=t&&(p[e]||(p[e]={}),p[e][t]=!0,p[t]||(p[t]={}),p[t][e]=!0)}for(let e=0;e<m.w-1;e++)for(let t=0;t<m.h-1;t++){const n=c(m,e,t);if(n){p[n]||(p[n]={});const r=c(m,e+1,t);r&&y(n,r);const o=c(m,e,t+1);o&&y(n,o)}}return{array:m,marks:n,avg:d,adjacent:p,numMarks:t-1}}},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0));function i(e){return"a"==e?"b":"a"}function a(e,t){return e.edges[t.i][i(t.which)]}t.findGraph=function(e){const t={},n=[];for(let r=1;r<e.numMarks+1;r++)if("node"==e.marks[r])t[r]={p:e.avg[r],edges:[]};else if("edge"==e.marks[r]){const t=Object.keys(e.adjacent[r]);2==t.length&&n.push({a:t[0],b:t[1],m:e.avg[r]})}n.forEach((e,n)=>{t[e.a].edges.push({i:n,which:"a"}),t[e.b].edges.push({i:n,which:"b"})});for(let e of Object.values(t))e.edges.sort((t,r)=>{const o=n[t.i].m,i=n[r.i].m;return Math.atan2(o.x-e.p.x,o.y-e.p.y)-Math.atan2(i.x-e.p.x,i.y-e.p.y)});return{vertices:t,edges:n}},t.findRootedGraph=function(e){const t=Object.keys(e.vertices);t.sort((t,n)=>e.vertices[t].p.y-e.vertices[n].p.y);const n=t[0],r=e.vertices[n],a=r.edges[0],c=a.which,s=i(c),l=a.i,d=e.edges[a.i],u=d.m,f=d[s],h=e.vertices[f],g=e.edges.length;e.edges[l][s]=f,e.edges[l][c]="*",e.edges[l].m=o.vavg(h.p,u);const m={a:"",b:"",m:o.vavg(u,r.p)};m[s]="*",m[c]=n;const p=e.edges.concat([m]),y=[{i:l,which:c},{i:g,which:s}],v={};for(let[t,n]of Object.entries(e.vertices))v[t]=n;return v[n]={p:v[n].p,edges:v[n].edges.map(e=>e.i==l?{i:g,which:e.which}:e)},v["*"]={p:u,edges:y},{edges:p,vertices:v,root:"*"}},t.findLambdaGraph=function(e){function t(t){s[t.i]=Object.assign({},e.edges[t.i],{tgt:t.which})}function n(i,l){if(o--<=0)return{t:"var"};if(null!=c[i])return{t:"var"};const d=e.vertices[i].edges,u=d.findIndex(e=>e.i==l.i),f=d[(u+1)%3],h=d[(u+2)%3];return t(h),function(t,n){const r={},o=[t];let i;for(;i=o.pop();){if(i==n)return!0;r[i]||(r[i]=!0,e.vertices[i].edges.forEach(t=>{null==s[t.i]&&o.push(a(e,t))}))}return!1}(i,a(e,h))?r(i,f,h):function(r,o,i){const s=e.vertices[r];c[r]=Object.assign({},s,{t:"app"}),t(o);const l=n(a(e,o),o);return{t:"app",f:n(a(e,i),i),arg:l}}(i,f,h)}function r(t,r,o){const l=e.vertices[t];var d;return c[t]=Object.assign({},l,{t:"lam"}),s[(d=r).i]=Object.assign({},e.edges[d.i],{tgt:i(d.which)}),{t:"lam",b:n(a(e,o),o)}}let o=100;const c={},s=[];let l=e.root,d=e.vertices[l];const u=d.edges[0],f=d.edges[1];t(f);const h=r(l,u,f);return{vertices:c,edges:s,root:e.root,exp:h}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Loader=class{constructor(){this.k=(()=>{}),this.count=0,this.tasks=[],this.data={img:{},json:{}}}add(e){this.tasks.push(e),this.count--}done(e){this.k=e,this.tasks.forEach(e=>e())}image(e,t){this.add(()=>{var n=new Image;n.src=e,n.onload=(()=>{this.data.img[t]=n,this.succ()})})}succ(){0==++this.count&&this.k(this.data)}json_file(e,t){null==t&&(t=e+".json"),this.add(()=>{const n=new Request(t);fetch(n).then(e=>e.json()).then(t=>{this.data.json[e]=t,this.succ()}).catch(console.error)})}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9jb25qb2luZWQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dyYXBoLnRzIiwid2VicGFjazovLy8uL3NyYy9sb2FkZXIudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJzcXIiLCJ4IiwidmxlbiIsIk1hdGgiLCJzcXJ0IiwieSIsInZwbHVzIiwiYSIsImIiLCJ2ZGl2Iiwidm5vcm0iLCJ2c3ViIiwidnNjYWxlIiwidmF2ZyIsInZpbnQiLCJmbG9vciIsImNvbmpvaW5lZF8xIiwiZ3JhcGhfMSIsImxvYWRlcl8xIiwidSIsIl9faW1wb3J0U3RhciIsIldJRFRIIiwiRURHRV9SQUQiLCJOT0RFX1JBRCIsInJlbHBvcyIsImUiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiY2xpZW50WCIsImxlZnQiLCJjbGllbnRZIiwidG9wIiwiZ2V0Q2FudmFzIiwiaWQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZ2V0Q29udGV4dCIsIndpZHRoIiwiaGVpZ2h0IiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJyZW5kZXJEZWJ1ZyIsImNvbmoiLCJjMiIsInB1dEltYWdlRGF0YSIsInNhIiwiSW1hZ2VEYXRhIiwidyIsImgiLCJqIiwiaXgxIiwiaXgyIiwiZGF0YSIsInJlbmRlckNvbmpvaW5lZCIsImFycmF5Iiwia2V5cyIsImF2ZyIsImZvckVhY2giLCJyZW5kZXJHcmFwaCIsImciLCJlZGdlcyIsInZhIiwidmVydGljZXMiLCJ2YiIsImJlZ2luUGF0aCIsIm1vdmVUbyIsInF1YWRyYXRpY0N1cnZlVG8iLCJzdHJva2VTdHlsZSIsImxpbmVXaWR0aCIsInN0cm9rZSIsImVuYWJsZWQiLCJhcmMiLCJQSSIsImZpbGwiLCJ0ZXh0QWxpZ24iLCJ0ZXh0QmFzZWxpbmUiLCJmb250IiwiZmlsbFRleHQiLCJrIiwiZW50cmllcyIsImxlbmd0aCIsInJvb3QiLCJzYXZlIiwiZ2xvYmFsQWxwaGEiLCJyZXN0b3JlIiwiZHJhd0Fycm93SGVhZCIsInRyYW5zbGF0ZSIsInJvdGF0ZSIsImF0YW4yIiwibGluZVRvIiwicmVuZGVyTGFtYmRhR3JhcGgiLCJ1bmRlZmluZWQiLCJ0Z3QiLCJ2IiwiaW5uZXJUZXh0Iiwic3RyaW5naWZ5TGFtIiwiY291bnRlciIsIkciLCJmcm0iLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJyZXMiLCJjb25jYXQiLCJydiIsInByZWYiLCJyZXMxIiwic2xpY2UiLCJzcGxpdCIsImYiLCJyZXMyIiwiYXJnIiwiZmluZFNwbGl0IiwiZTAiLCJzaXplIiwic2l6ZTAiLCJlZiIsInNpemVmIiwiZWEiLCJzaXplYSIsImV4cCIsImNoZWNrZWQiLCJMb2FkZXIiLCJpbWFnZSIsImRvbmUiLCJjMSIsImRyYXdJbWFnZSIsImltZyIsImNvbXB1dGUiLCJjbGVhclJlY3QiLCJkYXQiLCJnZXRJbWFnZURhdGEiLCJmaW5kQ29uam9pbmVkIiwiZmluZEdyYXBoIiwicmciLCJmaW5kUm9vdGVkR3JhcGgiLCJ2YWx1ZXMiLCJjb2xvcnMiLCJ2ZWMiLCJsaW5lQ2FwIiwicmVuZGVyQ3ljbGljT3JkZXJpbmciLCJmaW5kTGFtYmRhR3JhcGgiLCJpbm5lckhUTUwiLCJjb25zb2xlIiwibG9nIiwiYWRkRXZlbnRMaXN0ZW5lciIsInByZXYiLCJwYWludCIsImV4YW1wbGVzIiwic2VsZWN0ZWRJbmRleCIsIkFycmF5IiwiZnJvbSIsImdldEVsZW1lbnRzQnlOYW1lIiwiZmluZCIsInNpemVPZlRvb2wiLCJjb2xvck9mVG9vbCIsIm9uTW92ZSIsInBhaW50TGluZSIsInEiLCJtYXgiLCJhYnMiLCJvbk1vdXNldXAiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY2xlYXJDYW52YXMiLCJidXR0b25zIiwiZXZlbnQiLCJjbGlwYm9hcmREYXRhIiwiaXRlbXMiLCJpdGVtIiwia2luZCIsImJsb2IiLCJnZXRBc0ZpbGUiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwiaW0iLCJJbWFnZSIsInNyYyIsInJlc3VsdCIsInJlYWRBc0RhdGFVUkwiLCJ3aGl0ZSIsInJlZCIsImJsdWUiLCJjb2xvckdldCIsIml4IiwidmFsdWVHZXQiLCJ2YWx1ZVB1dCIsImNvbG9yRXEiLCJtYXJrcyIsInRvdGFsIiwiYWNjdW11bGF0ZUF2ZyIsIm1hcmsiLCJzdGFydEZpbGwiLCJjb2xvciIsInN0YWNrIiwicG9wIiwicHVzaCIsIlVpbnQxNkFycmF5IiwiYWRqYWNlbnQiLCJtYWtlQWRqIiwiaGVyZSIsInRoZXJlMSIsInRoZXJlMiIsIm51bU1hcmtzIiwib3Bwb3NpdGUiLCJhY3Jvc3MiLCJlcyIsIndoaWNoIiwiYWRqIiwic29ydCIsImFtIiwiYm0iLCJpZDEiLCJ2MSIsImVzQnJrIiwid2hpY2gxIiwid2hpY2gyIiwiaWRCcmsiLCJlQnJrIiwiaWQyIiwidjIiLCJpZE5ldyIsIm5ld0VkZ2UiLCJyb290RWRnZXMiLCJtYXAiLCJ0b3dhcmRNZSIsImVkZ2UiLCJhc3NpZ24iLCJwcm9jZXNzIiwidmlkIiwiaW5jb21pbmciLCJsaW1pdCIsInZlZGdlcyIsImlpeCIsImZpbmRJbmRleCIsImxlZnRFZGdlIiwicmlnaHRFZGdlIiwidmlkMSIsInZpZDIiLCJzZWVuIiwiY29ubmVjdGVkIiwicHJvY2Vzc0FzTGFtIiwidmVydCIsImNsIiwicHJvY2Vzc0FzQXBwIiwiW29iamVjdCBPYmplY3RdIiwidGhpcyIsImNvdW50IiwidGFza3MiLCJqc29uIiwidGFzayIsImFkZCIsInN1Y2MiLCJ1cmwiLCJyZXEiLCJSZXF1ZXN0IiwiZmV0Y2giLCJ0aGVuIiwiY2F0Y2giLCJlcnJvciJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLEdBQUEsQ0FDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxRQUFBLElBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEVBQUEsQ0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFDLFlBQUEsQ0FBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURtQixPQUFBLEtBUWpEckIsRUFBQXNCLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxHQURBLEVBQUFBLElBQUFGLEVBQUFyQixFQUFBcUIsSUFDQSxFQUFBRSxFQUFBLE9BQUFGLEVBQ0EsS0FBQUUsR0FBQSxpQkFBQUYsUUFBQUcsV0FBQSxPQUFBSCxFQUNBLElBQUFJLEVBQUFYLE9BQUFZLE9BQUEsTUFHQSxHQUZBMUIsRUFBQWtCLEVBQUFPLEdBQ0FYLE9BQUFDLGVBQUFVLEVBQUEs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QU1wRSxFQUFhek0sR0FDakI4USxLQUFLSyxJQUFJLEtBQ1AsSUFBSTVFLEVBQUssSUFBSUMsTUFDYkQsRUFBR0UsSUFBTUEsRUFDVEYsRUFBR0QsT0FBUyxNQUNWd0UsS0FBS2pNLEtBQUswRSxJQUFJdkosR0FBUXVNLEVBQ3RCdUUsS0FBS00sV0FLWFAsT0FDc0IsS0FBZEMsS0FBS0MsT0FDVEQsS0FBS3ZLLEVBQUV1SyxLQUFLak0sTUFJaEJnTSxVQUFVdEMsRUFBZThDLEdBQ1pqSyxNQUFQaUssSUFDRkEsRUFBTTlDLEVBQVEsU0FFaEJ1QyxLQUFLSyxJQUFJLEtBQ1AsTUFBTUcsRUFBTSxJQUFJQyxRQUFRRixHQUN4QkcsTUFBTUYsR0FDSEcsS0FBS2xSLEdBQUtBLEVBQUUwUSxRQUNaUSxLQUFLL1AsSUFDSm9QLEtBQUtqTSxLQUFLb00sS0FBSzFDLEdBQVM3TSxFQUN4Qm9QLEtBQUtNLFNBRU5NLE1BQU1uSCxRQUFRb0giLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvanMvXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxKTtcbiIsImV4cG9ydCBmdW5jdGlvbiBzcXIoeDogbnVtYmVyKSB7XG4gIHJldHVybiB4ICogeDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZsZW4ocDogUG9pbnQpIHtcbiAgcmV0dXJuIE1hdGguc3FydChzcXIocC54KSArIHNxcihwLnkpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZub3JtKHA6IFBvaW50KSB7XG4gIHJldHVybiB2ZGl2KHAsIHZsZW4ocCkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdnN1YihhOiBQb2ludCwgYjogUG9pbnQpOiBQb2ludCB7XG4gIHJldHVybiB7IHg6IGEueCAtIGIueCwgeTogYS55IC0gYi55IH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2cGx1cyhhOiBQb2ludCwgYjogUG9pbnQpOiBQb2ludCB7XG4gIHJldHVybiB7IHg6IGEueCArIGIueCwgeTogYS55ICsgYi55IH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2ZGl2KGI6IFBvaW50LCBzOiBudW1iZXIpOiBQb2ludCB7XG4gIHJldHVybiB7IHg6IGIueCAvIHMsIHk6IGIueSAvIHMgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZzY2FsZShiOiBQb2ludCwgczogbnVtYmVyKTogUG9pbnQge1xuICByZXR1cm4geyB4OiBiLnggKiBzLCB5OiBiLnkgKiBzIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2YXZnKGE6IFBvaW50LCBiOiBQb2ludCk6IFBvaW50IHtcbiAgcmV0dXJuIHZkaXYodnBsdXMoYSwgYiksIDIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdmludChhOiBQb2ludCk6IFBvaW50IHtcbiAgcmV0dXJuIHsgeDogTWF0aC5mbG9vcihhLngpLCB5OiBNYXRoLmZsb29yKGEueSkgfTtcbn1cbiIsImltcG9ydCB7IGZpbmRDb25qb2luZWQgfSBmcm9tICcuL2NvbmpvaW5lZCc7XG5pbXBvcnQgeyBmaW5kR3JhcGgsIGZpbmRSb290ZWRHcmFwaCwgZmluZExhbWJkYUdyYXBoIH0gZnJvbSAnLi9ncmFwaCc7XG5pbXBvcnQgeyBMb2FkZXIgfSBmcm9tICcuL2xvYWRlcic7XG5pbXBvcnQgKiBhcyB1IGZyb20gJy4vdXRpbCc7XG5cbmNvbnN0IFdJRFRIID0gMTY7XG5jb25zdCBFREdFX1JBRCA9IDc7XG5jb25zdCBOT0RFX1JBRCA9IDk7XG5mdW5jdGlvbiByZWxwb3MoZTogTW91c2VFdmVudCwgbjogRWxlbWVudCk6IFBvaW50IHtcbiAgY29uc3QgcmVjdCA9IG4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHJldHVybiB7IHg6IGUuY2xpZW50WCAtIHJlY3QubGVmdCwgeTogZS5jbGllbnRZIC0gcmVjdC50b3AgfTtcbn1cblxuZnVuY3Rpb24gZ2V0Q2FudmFzKGlkOiBzdHJpbmcpOiBDYW52YXMge1xuICBjb25zdCBjID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpIGFzIEhUTUxDYW52YXNFbGVtZW50O1xuICBjb25zdCBkID0gYy5nZXRDb250ZXh0KCcyZCcpITtcbiAgYy53aWR0aCA9IDUwMDtcbiAgYy5oZWlnaHQgPSA1MDA7XG4gIGQuZmlsbFN0eWxlID0gXCJ3aGl0ZVwiO1xuICBkLmZpbGxSZWN0KDAsIDAsIDUwMCwgNTAwKTtcbiAgcmV0dXJuIHsgYywgZCB9O1xufVxuXG5cbmZ1bmN0aW9uIGN1cnJlbnRUb29sKCk6IFRvb2wge1xuICByZXR1cm4gKEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoJ3BhaW50JykpIGFzIEhUTUxGb3JtRWxlbWVudFtdKVxuICAgIC5maW5kKHggPT4geC5jaGVja2VkKSEudmFsdWU7XG59XG5cbmZ1bmN0aW9uIHNpemVPZlRvb2wodDogVG9vbCk6IG51bWJlciB7XG4gIHN3aXRjaCAodCkge1xuICAgIGNhc2UgJ25vZGUnOiByZXR1cm4gV0lEVEg7XG4gICAgY2FzZSAnZWRnZSc6IHJldHVybiBXSURUSCAvIDI7XG4gICAgY2FzZSAnZXJhc2UnOiByZXR1cm4gV0lEVEggKiAyO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNvbG9yT2ZUb29sKHQ6IFRvb2wpOiBzdHJpbmcge1xuICBzd2l0Y2ggKHQpIHtcbiAgICBjYXNlICdub2RlJzogcmV0dXJuICdyZWQnO1xuICAgIGNhc2UgJ2VkZ2UnOiByZXR1cm4gJ2JsdWUnO1xuICAgIGNhc2UgJ2VyYXNlJzogcmV0dXJuICd3aGl0ZSc7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVuZGVyQ29uam9pbmVkKHNhOiBTaXplZEFycmF5KTogSW1hZ2VEYXRhIHtcbiAgY29uc3QgaWQgPSBuZXcgSW1hZ2VEYXRhKHNhLncsIHNhLmgpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNhLnc7IGkrKykge1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgc2EuaDsgaisrKSB7XG4gICAgICBjb25zdCBpeDEgPSAoaiAqIHNhLncgKyBpKTtcbiAgICAgIGNvbnN0IGl4MiA9IDQgKiAoaiAqIHNhLncgKyBpKTtcbiAgICAgIGlkLmRhdGFbaXgyICsgMF0gPSAoc2EuZGF0YVtpeDFdICogMTcpICYgMjU1O1xuICAgICAgaWQuZGF0YVtpeDIgKyAxXSA9IChzYS5kYXRhW2l4MV0gKiA3MSkgJiAyNTU7XG4gICAgICBpZC5kYXRhW2l4MiArIDJdID0gKHNhLmRhdGFbaXgxXSAqIDE1NykgJiAyNTU7XG4gICAgICBpZC5kYXRhW2l4MiArIDNdID0gc2EuZGF0YVtpeDFdID8gMTI4IDogMDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGlkO1xufVxuXG5mdW5jdGlvbiByZW5kZXJEZWJ1Zyhjb25qOiBDb25qb2luZWREYXRhLCBjMjogQ2FudmFzKSB7XG4gIGMyLmQucHV0SW1hZ2VEYXRhKHJlbmRlckNvbmpvaW5lZChjb25qLmFycmF5KSwgMCwgMCk7XG4gIE9iamVjdC5rZXlzKGNvbmouYXZnKS5mb3JFYWNoKGkgPT4ge1xuICAgIGNvbnN0IHAgPSBjb25qLmF2Z1tpXTtcbiAgICBjMi5kLmZpbGxTdHlsZSA9IFwid2hpdGVcIjtcbiAgICBjMi5kLmZpbGxSZWN0KE1hdGguZmxvb3IocC54KSAtIDMsIE1hdGguZmxvb3IocC55KSAtIDMsIDYsIDYpO1xuICB9KTtcbn1cblxuXG5cbmZ1bmN0aW9uIHJlbmRlckN5Y2xpY09yZGVyaW5nKGc6IEdyYXBoRGF0YSwgYzogQ2FudmFzKSB7XG4gIGNvbnN0IHsgZCB9ID0gYztcbiAgZm9yIChjb25zdCB2IG9mIE9iamVjdC52YWx1ZXMoZy52ZXJ0aWNlcykpIHtcbiAgICBjb25zdCBjb2xvcnMgPSBbXCJyZWRcIiwgXCJncmVlblwiLCBcImJsdWVcIl07XG4gICAgaWYgKHYuZWRnZXMubGVuZ3RoIDw9IDMpIHtcbiAgICAgIHYuZWRnZXMuZm9yRWFjaCgoZSwgaSkgPT4ge1xuICAgICAgICBjb25zdCBtID0gZy5lZGdlc1tlLmldLm07XG4gICAgICAgIGNvbnN0IHZlYyA9IHUudnBsdXModS52c2NhbGUodS52bm9ybSh1LnZzdWIobSwgdi5wKSksIDE1KSwgdi5wKTtcbiAgICAgICAgZC5iZWdpblBhdGgoKTtcbiAgICAgICAgZC5tb3ZlVG8odi5wLngsIHYucC55KTtcbiAgICAgICAgZC5saW5lVG8odmVjLngsIHZlYy55KTtcbiAgICAgICAgZC5zdHJva2VTdHlsZSA9IGNvbG9yc1tpXTtcbiAgICAgICAgZC5saW5lV2lkdGggPSAzO1xuICAgICAgICBkLmxpbmVDYXAgPSAncm91bmQnO1xuICAgICAgICBkLnN0cm9rZSgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHJlbmRlckdyYXBoKGc6IFJvb3RlZEdyYXBoRGF0YSwgYzogQ2FudmFzKSB7XG4gIGNvbnN0IHsgZCB9ID0gY1xuXG4gIGcuZWRnZXMuZm9yRWFjaCgoeyBhLCBiLCBtIH0sIGkpID0+IHtcbiAgICBjb25zdCB2YSA9IGcudmVydGljZXNbYV0ucDtcbiAgICBjb25zdCB2YiA9IGcudmVydGljZXNbYl0ucDtcbiAgICBkLmJlZ2luUGF0aCgpO1xuICAgIGQubW92ZVRvKHZhLngsIHZhLnkpO1xuICAgIGQucXVhZHJhdGljQ3VydmVUbyhcbiAgICAgIDIgKiBtLnggLSAodmEueCArIHZiLngpIC8gMixcbiAgICAgIDIgKiBtLnkgLSAodmEueSArIHZiLnkpIC8gMixcbiAgICAgIHZiLngsIHZiLnkpO1xuICAgIGQuc3Ryb2tlU3R5bGUgPSBcImJsYWNrXCI7XG4gICAgZC5saW5lV2lkdGggPSAxO1xuICAgIGQuc3Ryb2tlKCk7XG5cbiAgICBpZiAoZW5hYmxlZCgncmVuZGVyRGVidWdJZCcpKSB7XG4gICAgICBkLmJlZ2luUGF0aCgpO1xuICAgICAgZC5maWxsU3R5bGUgPSAnd2hpdGUnO1xuICAgICAgZC5hcmMobS54LCBtLnksIEVER0VfUkFELCAwLCBNYXRoLlBJICogMik7XG4gICAgICBkLmZpbGwoKTtcbiAgICAgIGQudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgICBkLnRleHRCYXNlbGluZSA9ICdtaWRkbGUnXG4gICAgICBkLmZvbnQgPSAnYm9sZCAxMHB4IGFyaWFsJztcbiAgICAgIGQuZmlsbFN0eWxlID0gJyM0MDQnO1xuICAgICAgZC5maWxsVGV4dChpICsgJycsIG0ueCwgbS55KTtcbiAgICB9XG4gIH0pO1xuICBmb3IgKGxldCBbaywgeyBwIH1dIG9mIE9iamVjdC5lbnRyaWVzKGcudmVydGljZXMpKSB7XG4gICAgZC5maWxsU3R5bGUgPSBcIiNmZWRcIjtcblxuICAgIGlmIChnLnZlcnRpY2VzW2tdLmVkZ2VzLmxlbmd0aCAhPSAzKSB7XG4gICAgICBkLmZpbGxTdHlsZSA9IFwicmVkXCI7XG4gICAgfVxuICAgIGlmIChrID09IGcucm9vdCkge1xuICAgICAgZC5maWxsU3R5bGUgPSBcIndoaXRlXCI7XG4gICAgfVxuICAgIGQuc3Ryb2tlU3R5bGUgPSBcImJsYWNrXCI7XG4gICAgZC5saW5lV2lkdGggPSAxO1xuICAgIGQuYmVnaW5QYXRoKCk7XG4gICAgZC5hcmMocC54LCBwLnksIE5PREVfUkFELCAwLCAyICogTWF0aC5QSSk7XG4gICAgZC5maWxsKCk7XG4gICAgZC5zdHJva2UoKTtcblxuICAgIGlmIChlbmFibGVkKCdyZW5kZXJEZWJ1Z0lkJykpIHtcbiAgICAgIGQudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgICBkLnRleHRCYXNlbGluZSA9ICdtaWRkbGUnXG4gICAgICBkLmZvbnQgPSAnYm9sZCA5cHggYXJpYWwnO1xuICAgICAgZC5maWxsU3R5bGUgPSAnIzAwMCc7XG4gICAgICBkLmZpbGxUZXh0KGssIHAueCwgcC55KTtcbiAgICB9XG4gIH1cbiAgaWYgKGVuYWJsZWQoJ3JlbmRlckxhbWJkYScpKSB7XG4gICAgZC5zYXZlKCk7XG4gICAgZC5maWxsU3R5bGUgPSBcIndoaXRlXCI7XG4gICAgZC5nbG9iYWxBbHBoYSA9IDAuMjtcbiAgICBkLmZpbGxSZWN0KDAsIDAsIDUwMCwgNTAwKTtcbiAgICBkLnJlc3RvcmUoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBkcmF3QXJyb3dIZWFkKGQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgbTogUG9pbnQsIHZhOiBQb2ludCwgdmI6IFBvaW50KSB7XG4gIGQuc3Ryb2tlU3R5bGUgPSBcImJsYWNrXCI7XG4gIGQubGluZVdpZHRoID0gMTtcbiAgZC5zdHJva2UoKTtcbiAgZC5zYXZlKCk7XG4gIGQudHJhbnNsYXRlKG0ueCwgbS55KTtcbiAgZC5yb3RhdGUoTWF0aC5hdGFuMih2Yi55IC0gdmEueSwgdmIueCAtIHZhLngpKTtcbiAgZC5iZWdpblBhdGgoKTtcbiAgZC5tb3ZlVG8oMCwgLTMpO1xuICBkLmxpbmVUbygyLCAwKTtcbiAgZC5saW5lVG8oMCwgMyk7XG4gIGQubGluZVRvKDgsIDApO1xuICBkLmZpbGxTdHlsZSA9IFwiYmxhY2tcIjtcbiAgZC5maWxsKCk7XG4gIGQucmVzdG9yZSgpO1xufVxuXG50eXBlIEZyb20gPSAnbGFtJyB8ICdhcHBsJyB8ICdhcHByJyB8ICd0b3AnO1xudHlwZSBTdHJpbmdpZnlSZXMgPSB7IHM6IHN0cmluZywgY291bnRlcjogbnVtYmVyIH07XG5cbmZ1bmN0aW9uIGZpbmRTcGxpdChlOiBFeHApOiB7IGU6IEV4cFMsIHNpemU6IG51bWJlciB9IHtcbiAgc3dpdGNoIChlLnQpIHtcbiAgICBjYXNlICdsYW0nOiB7XG4gICAgICBjb25zdCB7IGU6IGUwLCBzaXplOiBzaXplMCB9ID0gZmluZFNwbGl0KGUuYik7XG4gICAgICByZXR1cm4geyBlOiB7IHQ6ICdsYW0nLCBiOiBlMCB9LCBzaXplOiBzaXplMCAtIDEgfTtcbiAgICB9XG4gICAgY2FzZSAnYXBwJzoge1xuICAgICAgY29uc3QgeyBlOiBlZiwgc2l6ZTogc2l6ZWYgfSA9IGZpbmRTcGxpdChlLmYpO1xuICAgICAgY29uc3QgeyBlOiBlYSwgc2l6ZTogc2l6ZWEgfSA9IGZpbmRTcGxpdChlLmFyZyk7XG4gICAgICByZXR1cm4geyBlOiB7IHQ6ICdhcHAnLCBmOiBlZiwgYXJnOiBlYSwgc3BsaXQ6IHNpemVmIH0sIHNpemU6IHNpemVmICsgc2l6ZWEgfTtcbiAgICB9XG4gICAgY2FzZSAndmFyJzogcmV0dXJuIHsgZSwgc2l6ZTogMSB9O1xuICB9XG59XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeUxhbShjb3VudGVyOiBudW1iZXIsIEc6IHN0cmluZ1tdLCBlOiBFeHBTLCBmcm06IEZyb20pOiBTdHJpbmdpZnlSZXMge1xuICBzd2l0Y2ggKGUudCkge1xuICAgIGNhc2UgJ2xhbSc6IHtcbiAgICAgIGNvbnN0IHYgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGNvdW50ZXIgKyA5Nyk7XG4gICAgICBjb25zdCBiaW5kID0gZnJtID09ICdsYW0nID8gJycgOiAnXFx1MDNiYic7XG4gICAgICBjb25zdCByZXMgPSBzdHJpbmdpZnlMYW0oY291bnRlciArIDEsIEcuY29uY2F0KFt2XSksIGUuYiwgJ2xhbScpO1xuICAgICAgY29uc3QgcnYgPSBiaW5kICsgdiArIHJlcy5zO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgczogKGZybSA9PSAnbGFtJyB8fCBmcm0gPT0gJ3RvcCcpID8gcnYgOiAnKCcgKyBydiArICcpJyxcbiAgICAgICAgY291bnRlcjogcmVzLmNvdW50ZXIsXG4gICAgICB9O1xuICAgIH1cbiAgICBjYXNlICdhcHAnOiB7XG4gICAgICBjb25zdCBwcmVmID0gZnJtID09ICdsYW0nID8gJy4nIDogJyc7XG4gICAgICBjb25zdCByZXMxID0gc3RyaW5naWZ5TGFtKGNvdW50ZXIsIEcuc2xpY2UoMCwgZS5zcGxpdCksIGUuZiwgJ2FwcGwnKTtcbiAgICAgIGNvbnN0IHJlczIgPSBzdHJpbmdpZnlMYW0ocmVzMS5jb3VudGVyLCBHLnNsaWNlKGUuc3BsaXQpLCBlLmFyZywgJ2FwcHInKTtcbiAgICAgIGNvbnN0IHJ2ID0gKHByZWYgKyByZXMxLnMgKyAnICcgKyByZXMyLnMpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgczogZnJtID09ICdhcHByJyA/ICcoJyArIHJ2ICsgJyknIDogcnYsXG4gICAgICAgIGNvdW50ZXI6IHJlczIuY291bnRlclxuICAgICAgfTtcbiAgICB9XG4gICAgY2FzZSAndmFyJzogcmV0dXJuIHsgczogR1swXSwgY291bnRlciB9O1xuICB9XG59XG5mdW5jdGlvbiByZW5kZXJMYW1iZGFHcmFwaChnOiBMYW1iZGFHcmFwaERhdGEsIGM6IENhbnZhcykge1xuICBjb25zdCB7IGQgfSA9IGNcbiAgZy5lZGdlcy5mb3JFYWNoKChlKSA9PiB7XG4gICAgaWYgKGUgPT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgY29uc3QgeyBhLCBiLCBtLCB0Z3QgfSA9IGU7XG4gICAgaWYgKGcudmVydGljZXNbYV0gPT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgaWYgKGcudmVydGljZXNbYl0gPT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgY29uc3QgdmEgPSBnLnZlcnRpY2VzW2FdLnA7XG4gICAgY29uc3QgdmIgPSBnLnZlcnRpY2VzW2JdLnA7XG4gICAgZC5iZWdpblBhdGgoKTtcbiAgICBkLm1vdmVUbyh2YS54LCB2YS55KTtcbiAgICBkLnF1YWRyYXRpY0N1cnZlVG8oXG4gICAgICAyICogbS54IC0gKHZhLnggKyB2Yi54KSAvIDIsXG4gICAgICAyICogbS55IC0gKHZhLnkgKyB2Yi55KSAvIDIsXG4gICAgICB2Yi54LCB2Yi55KTtcbiAgICBpZiAodGd0ID09ICdiJylcbiAgICAgIGRyYXdBcnJvd0hlYWQoZCwgbSwgdmEsIHZiKTtcbiAgICBlbHNlXG4gICAgICBkcmF3QXJyb3dIZWFkKGQsIG0sIHZiLCB2YSk7XG4gIH0pO1xuICBmb3IgKGxldCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXMoZy52ZXJ0aWNlcykpIHtcbiAgICBpZiAodiA9PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICBjb25zdCB7IHAsIHQgfSA9IHY7XG4gICAgZC5maWxsU3R5bGUgPSBrID09IGcucm9vdCA/IFwiI2FhZlwiIDogKHQgPT0gJ2FwcCcgPyAnd2hpdGUnIDogJ2JsYWNrJyk7XG4gICAgZC5zdHJva2VTdHlsZSA9IFwiYmxhY2tcIjtcbiAgICBkLmxpbmVXaWR0aCA9IDE7XG4gICAgZC5iZWdpblBhdGgoKTtcbiAgICBkLmFyYyhwLngsIHAueSwgTk9ERV9SQUQsIDAsIDIgKiBNYXRoLlBJKTtcbiAgICBkLmZpbGwoKTtcbiAgICBkLnN0cm9rZSgpO1xuICB9XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsYW1iZGEnKSEuaW5uZXJUZXh0ID0gc3RyaW5naWZ5TGFtKDAsIFtdLCBmaW5kU3BsaXQoZy5leHApLmUsICd0b3AnKS5zO1xufVxuXG5mdW5jdGlvbiBlbmFibGVkKGlkOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgcmV0dXJuIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkgYXMgSFRNTEZvcm1FbGVtZW50KS5jaGVja2VkO1xufVxuXG5mdW5jdGlvbiBnbygpIHtcbiAgY29uc3QgYzEgPSBnZXRDYW52YXMoJ2MxJyk7XG4gIGMxLmQuZHJhd0ltYWdlKGwuZGF0YS5pbWdbJ2V4YW1wbGUxJ10sIDAsIDApO1xuICBjb25zdCBjMiA9IGdldENhbnZhcygnYzInKTtcblxuICBbJ3JlbmRlckRlYnVnJyxcbiAgICAncmVuZGVyRGVidWdJZCcsXG4gICAgJ3JlbmRlckN5Y2xpYycsXG4gICAgJ3JlbmRlckdyYXBoJyxcbiAgICAncmVuZGVyTGFtYmRhJ10uZm9yRWFjaChpZCA9PiB7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkhLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGNvbXB1dGUpO1xuICAgIH0pO1xuXG5cbiAgZnVuY3Rpb24gY29tcHV0ZSgpIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGFtYmRhJykhLmlubmVyVGV4dCA9ICcnO1xuICAgIGMyLmQuY2xlYXJSZWN0KDAsIDAsIGMyLmMud2lkdGgsIGMyLmMuaGVpZ2h0KTtcbiAgICBjb25zdCBkYXQgPSBjMS5kLmdldEltYWdlRGF0YSgwLCAwLCBjMS5jLndpZHRoLCBjMS5jLmhlaWdodCk7XG4gICAgY29uc3QgY29uaiA9IGZpbmRDb25qb2luZWQoZGF0KTtcbiAgICBpZiAoZW5hYmxlZCgncmVuZGVyRGVidWcnKSkgcmVuZGVyRGVidWcoY29uaiwgYzIpO1xuICAgIGNvbnN0IGcgPSBmaW5kR3JhcGgoY29uaik7XG4gICAgY29uc3QgcmcgPSBmaW5kUm9vdGVkR3JhcGgoZyk7XG4gICAgaWYgKGVuYWJsZWQoJ3JlbmRlckN5Y2xpYycpKSByZW5kZXJDeWNsaWNPcmRlcmluZyhyZywgYzIpO1xuICAgIGlmIChlbmFibGVkKCdyZW5kZXJHcmFwaCcpKSByZW5kZXJHcmFwaChyZywgYzIpO1xuXG4gICAgaWYgKGVuYWJsZWQoJ3JlbmRlckxhbWJkYScpKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBsZyA9IGZpbmRMYW1iZGFHcmFwaChyZyk7XG4gICAgICAgIGNvbnN0IGV4cCA9IHJlbmRlckxhbWJkYUdyYXBoKGxnLCBjMik7XG4gICAgICB9XG4gICAgICBjYXRjaCAoZSkge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGFtYmRhJykhLmlubmVySFRNTCA9ICc8Zm9udCBjb2xvcj1cInJlZFwiPkFsbCBub2RlcyBtdXN0IGhhdmUgZXhhY3RseSB0aHJlZSBlZGdlcyB0byBjb21wdXRlIGxhbWJkYSBncmFwaC48L2ZvbnQ+JztcbiAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICAgIHJlbmRlckdyYXBoKHJnLCBjMik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21wdXRlJykhLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY29tcHV0ZSk7XG5cbiAgbGV0IHByZXY6IFBvaW50IHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXG4gIGZ1bmN0aW9uIHBhaW50KHA6IFBvaW50KSB7XG4gICAgZXhhbXBsZXMuc2VsZWN0ZWRJbmRleCA9IC0xOyAvLyBkcmF3aW5nIGludmFsaWRhdGVzIGV4YW1wbGUgc2VsZWN0aW9uXG4gICAgcCA9IHUudmludChwKTtcbiAgICBjb25zdCB0ID0gY3VycmVudFRvb2woKTtcbiAgICBjb25zdCBzaXplID0gc2l6ZU9mVG9vbCh0KVxuICAgIGMxLmQuZmlsbFN0eWxlID0gY29sb3JPZlRvb2wodCk7XG4gICAgYzEuZC5maWxsUmVjdChwLnggLSBzaXplIC8gMiwgcC55IC0gc2l6ZSAvIDIsIHNpemUsIHNpemUpO1xuICB9XG5cbiAgZnVuY3Rpb24gcGFpbnRMaW5lKHA6IFBvaW50LCBxOiBQb2ludCkge1xuICAgIGlmIChNYXRoLm1heChNYXRoLmFicyhwLnggLSBxLngpLCBNYXRoLmFicyhwLnkgLSBxLnkpKSA8IFdJRFRIIC8gMikge1xuICAgICAgcGFpbnQocSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY29uc3QgYXZnID0ge1xuICAgICAgICB4OiBNYXRoLmZsb29yKChwLnggKyBxLngpIC8gMiksXG4gICAgICAgIHk6IE1hdGguZmxvb3IoKHAueSArIHEueSkgLyAyKVxuICAgICAgfTtcbiAgICAgIHBhaW50TGluZShwLCBhdmcpO1xuICAgICAgcGFpbnRMaW5lKGF2ZywgcSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25Nb3ZlKGU6IE1vdXNlRXZlbnQpIHtcbiAgICBjb25zdCBwID0gcmVscG9zKGUsIGMxLmMpO1xuICAgIGlmIChwcmV2ICE9IHVuZGVmaW5lZClcbiAgICAgIHBhaW50TGluZShwcmV2LCBwKTtcbiAgICBlbHNlXG4gICAgICBwYWludChwKTtcbiAgICBwcmV2ID0gcDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uTW91c2V1cChlOiBNb3VzZUV2ZW50KSB7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Nb3ZlKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgb25Nb3ZlKTtcbiAgICBjb21wdXRlKCk7XG4gIH1cblxuICBmdW5jdGlvbiBjbGVhckNhbnZhcygpIHtcbiAgICBjMS5kLmZpbGxTdHlsZSA9IFwid2hpdGVcIjtcbiAgICBjMS5kLmZpbGxSZWN0KDAsIDAsIGMxLmMud2lkdGgsIGMxLmMuaGVpZ2h0KTtcbiAgfVxuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbGVhcicpIS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBjbGVhckNhbnZhcygpO1xuICAgIGNvbXB1dGUoKTtcbiAgfSk7XG5cbiAgY29uc3QgZXhhbXBsZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhhbXBsZXMnKSEgYXMgSFRNTFNlbGVjdEVsZW1lbnQ7XG4gIGV4YW1wbGVzLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICBjMS5kLmRyYXdJbWFnZShsLmRhdGEuaW1nW2V4YW1wbGVzLnZhbHVlXSwgMCwgMCk7XG4gICAgY29tcHV0ZSgpO1xuICB9KTtcblxuICBjMS5jLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChlKSA9PiB7XG4gICAgaWYgKGUuYnV0dG9ucyAhPSAxKSByZXR1cm47XG4gICAgY29uc3QgcCA9IHJlbHBvcyhlLCBjMS5jKTtcbiAgICBwcmV2ID0gcDtcbiAgICBwYWludChwKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdmUpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBvbk1vdXNldXApO1xuICB9KTtcblxuXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Bhc3RlJywgKGV2ZW50KSA9PiB7XG4gICAgY29uc3QgaXRlbXMgPSBBcnJheS5mcm9tKGV2ZW50LmNsaXBib2FyZERhdGEhLml0ZW1zKTtcblxuICAgIGl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICBpZiAoaXRlbS5raW5kID09PSAnZmlsZScpIHtcbiAgICAgICAgY29uc3QgYmxvYiA9IGl0ZW0uZ2V0QXNGaWxlKCkhO1xuICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICByZWFkZXIub25sb2FkID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgY29uc3QgaW0gPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICBpZiAodHlwZW9mIChyZWFkZXIucmVzdWx0KSA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgaW0uc3JjID0gcmVhZGVyLnJlc3VsdDtcbiAgICAgICAgICAgIGltLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgIGNsZWFyQ2FudmFzKCk7XG4gICAgICAgICAgICAgIGMxLmQuZHJhd0ltYWdlKGltLCBNYXRoLmZsb29yKChjMS5jLndpZHRoIC0gaW0ud2lkdGgpIC8gMiksIE1hdGguZmxvb3IoKGMxLmMuaGVpZ2h0IC0gaW0uaGVpZ2h0KSAvIDIpKTtcbiAgICAgICAgICAgICAgY29tcHV0ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9OyAvLyBkYXRhIHVybCFcbiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoYmxvYik7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIGNvbXB1dGUoKTtcblxufVxuXG5jb25zdCBsID0gbmV3IExvYWRlcigpO1xubC5pbWFnZSgnLi9pbWcvZXhhbXBsZTEucG5nJywgJ2V4YW1wbGUxJyk7XG5sLmltYWdlKCcuL2ltZy9leGFtcGxlMi5wbmcnLCAnZXhhbXBsZTInKTtcbmwuaW1hZ2UoJy4vaW1nL2V4YW1wbGUzLnBuZycsICdleGFtcGxlMycpO1xubC5pbWFnZSgnLi9pbWcvY3ViZS5wbmcnLCAnY3ViZScpO1xubC5pbWFnZSgnLi9pbWcvZG9kZWNhaGVkcm9uLnBuZycsICdkb2RlY2FoZWRyb24nKTtcbmwuaW1hZ2UoJy4vaW1nL3ByaXNtLnBuZycsICdwcmlzbScpO1xubC5pbWFnZSgnLi9pbWcvdGV0cmFoZWRyb24ucG5nJywgJ3RldHJhaGVkcm9uJyk7XG5sLmltYWdlKCcuL2ltZy90dXR0ZS5wbmcnLCAndHV0dGUnKTtcbmwuZG9uZShnbyk7XG4iLCJjb25zdCB3aGl0ZTogQ29sb3IgPSB7IHI6IDI1NSwgZzogMjU1LCBiOiAyNTUgfTtcbmNvbnN0IHJlZDogQ29sb3IgPSB7IHI6IDI1NSwgZzogMCwgYjogMCB9O1xuY29uc3QgYmx1ZTogQ29sb3IgPSB7IHI6IDAsIGc6IDAsIGI6IDI1NSB9O1xuXG5mdW5jdGlvbiBjb2xvckdldChpZDogSW1hZ2VEYXRhLCB4OiBudW1iZXIsIHk6IG51bWJlcik6IENvbG9yIHtcbiAgY29uc3QgaXggPSA0ICogKHkgKiBpZC53aWR0aCArIHgpO1xuICByZXR1cm4geyByOiBpZC5kYXRhW2l4XSwgZzogaWQuZGF0YVtpeCArIDFdLCBiOiBpZC5kYXRhW2l4ICsgMl0gfTtcbn1cblxuZnVuY3Rpb24gdmFsdWVHZXQoc2E6IFNpemVkQXJyYXksIHg6IG51bWJlciwgeTogbnVtYmVyKTogbnVtYmVyIHtcbiAgY29uc3QgaXggPSAoeSAqIHNhLncgKyB4KTtcbiAgcmV0dXJuIHNhLmRhdGFbaXhdO1xufVxuXG5mdW5jdGlvbiB2YWx1ZVB1dChzYTogU2l6ZWRBcnJheSwgeDogbnVtYmVyLCB5OiBudW1iZXIsIHY6IG51bWJlcikge1xuICBjb25zdCBpeCA9ICh5ICogc2EudyArIHgpO1xuICBzYS5kYXRhW2l4XSA9IHY7XG59XG5cbmZ1bmN0aW9uIGNvbG9yRXEoYzogQ29sb3IsIGQ6IENvbG9yKTogYm9vbGVhbiB7XG4gIHJldHVybiBjLnIgPT0gZC5yICYmIGMuZyA9PSBkLmcgJiYgYy5iID09IGQuYjtcbn1cblxuZnVuY3Rpb24gbWFya1R5cGVPZkNvbG9yKGM6IENvbG9yKTogTWFya1R5cGUge1xuICBpZiAoY29sb3JFcShjLCByZWQpKSByZXR1cm4gJ25vZGUnO1xuICBpZiAoY29sb3JFcShjLCBibHVlKSkgcmV0dXJuICdlZGdlJztcbiAgcmV0dXJuICd1bmtub3duJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRDb25qb2luZWQoaWQ6IEltYWdlRGF0YSk6IENvbmpvaW5lZERhdGEge1xuICBsZXQgY291bnRlciA9IDE7XG4gIGNvbnN0IG1hcmtzOiBEaWN0PE1hcmtUeXBlPiA9IHt9O1xuICBjb25zdCBhdmc6IERpY3Q8UG9pbnQ+ID0ge307XG4gIGNvbnN0IHRvdGFsOiBEaWN0PG51bWJlcj4gPSB7fTtcblxuICBmdW5jdGlvbiBhY2N1bXVsYXRlQXZnKHA6IFBvaW50LCBtYXJrOiBudW1iZXIpIHtcbiAgICBpZiAoIWF2Z1ttYXJrXSkge1xuICAgICAgYXZnW21hcmtdID0geyB4OiAwLCB5OiAwIH07XG4gICAgICB0b3RhbFttYXJrXSA9IDA7XG4gICAgfVxuICAgIGF2Z1ttYXJrXS54ICs9IHAueDtcbiAgICBhdmdbbWFya10ueSArPSBwLnk7XG4gICAgdG90YWxbbWFya10rKztcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0YXJ0RmlsbCh4OiBudW1iZXIsIHk6IG51bWJlciwgY29sb3I6IENvbG9yKSB7XG4gICAgY29uc3QgbWFyayA9IGNvdW50ZXIrKztcbiAgICBtYXJrc1ttYXJrXSA9IG1hcmtUeXBlT2ZDb2xvcihjb2xvcik7XG4gICAgY29uc3Qgc3RhY2s6IFBvaW50W10gPSBbeyB4LCB5IH1dO1xuICAgIGxldCBwOiBQb2ludCB8IHVuZGVmaW5lZDtcbiAgICBsZXQgaXRlciA9IDA7XG4gICAgd2hpbGUgKHAgPSBzdGFjay5wb3AoKSkge1xuICAgICAgY29uc3QgeyB4LCB5IH0gPSBwO1xuICAgICAgaWYgKHZhbHVlR2V0KGFycmF5LCB4LCB5KSkgY29udGludWU7XG4gICAgICBpZiAoIWNvbG9yRXEoY29sb3IsIGNvbG9yR2V0KGlkLCB4LCB5KSkpIGNvbnRpbnVlO1xuICAgICAgdmFsdWVQdXQoYXJyYXksIHgsIHksIG1hcmspO1xuICAgICAgYWNjdW11bGF0ZUF2Zyh7IHgsIHkgfSwgbWFyayk7XG4gICAgICBzdGFjay5wdXNoKHsgeDogeCArIDEsIHkgfSk7XG4gICAgICBzdGFjay5wdXNoKHsgeDogeCAtIDEsIHkgfSk7XG4gICAgICBzdGFjay5wdXNoKHsgeCwgeTogeSArIDEgfSk7XG4gICAgICBzdGFjay5wdXNoKHsgeCwgeTogeSAtIDEgfSk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZGF0YSA9IG5ldyBVaW50MTZBcnJheShpZC53aWR0aCAqIGlkLmhlaWdodCk7XG4gIGNvbnN0IGFycmF5ID0geyB3OiBpZC53aWR0aCwgaDogaWQuaGVpZ2h0LCBkYXRhIH07XG4gIGZvciAobGV0IHggPSAwOyB4IDwgYXJyYXkudzsgeCsrKSB7XG4gICAgZm9yIChsZXQgeSA9IDA7IHkgPCBhcnJheS5oOyB5KyspIHtcbiAgICAgIGNvbnN0IGl4MSA9ICh5ICogYXJyYXkudyArIHgpO1xuICAgICAgY29uc3QgY29sb3IgPSBjb2xvckdldChpZCwgeCwgeSk7XG4gICAgICBpZiAoIWNvbG9yRXEoY29sb3IsIHdoaXRlKSAmJiAhdmFsdWVHZXQoYXJyYXksIHgsIHkpKSB7XG4gICAgICAgIHN0YXJ0RmlsbCh4LCB5LCBjb2xvcik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZm9yIChsZXQgaSA9IDE7IGkgPCBjb3VudGVyOyBpKyspIHtcbiAgICBhdmdbaV0ueCAvPSB0b3RhbFtpXTtcbiAgICBhdmdbaV0ueSAvPSB0b3RhbFtpXTtcbiAgfVxuXG4gIGNvbnN0IGFkamFjZW50OiBEaWN0PERpY3Q8Ym9vbGVhbj4+ID0ge307XG4gIGZ1bmN0aW9uIG1ha2VBZGooeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcbiAgICBpZiAoeCA9PSB5KSByZXR1cm47XG4gICAgaWYgKCFhZGphY2VudFt4XSkgYWRqYWNlbnRbeF0gPSB7fTtcbiAgICBhZGphY2VudFt4XVt5XSA9IHRydWU7XG4gICAgaWYgKCFhZGphY2VudFt5XSkgYWRqYWNlbnRbeV0gPSB7fTtcbiAgICBhZGphY2VudFt5XVt4XSA9IHRydWU7XG4gIH1cbiAgZm9yIChsZXQgeCA9IDA7IHggPCBhcnJheS53IC0gMTsgeCsrKSB7XG4gICAgZm9yIChsZXQgeSA9IDA7IHkgPCBhcnJheS5oIC0gMTsgeSsrKSB7XG4gICAgICBjb25zdCBoZXJlID0gdmFsdWVHZXQoYXJyYXksIHgsIHkpO1xuICAgICAgaWYgKGhlcmUpIHtcbiAgICAgICAgaWYgKCFhZGphY2VudFtoZXJlXSkgYWRqYWNlbnRbaGVyZV0gPSB7fTtcbiAgICAgICAgY29uc3QgdGhlcmUxID0gdmFsdWVHZXQoYXJyYXksIHggKyAxLCB5KTtcbiAgICAgICAgaWYgKHRoZXJlMSkgbWFrZUFkaihoZXJlLCB0aGVyZTEpO1xuICAgICAgICBjb25zdCB0aGVyZTIgPSB2YWx1ZUdldChhcnJheSwgeCwgeSArIDEpO1xuICAgICAgICBpZiAodGhlcmUyKSBtYWtlQWRqKGhlcmUsIHRoZXJlMik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHsgYXJyYXksIG1hcmtzLCBhdmcsIGFkamFjZW50LCBudW1NYXJrczogY291bnRlciAtIDEgfTtcbn1cbiIsImltcG9ydCAqIGFzIHUgZnJvbSAnLi91dGlsJztcblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRHcmFwaChjb25qOiBDb25qb2luZWREYXRhKTogR3JhcGhEYXRhIHtcbiAgY29uc3QgdmVydGljZXM6IERpY3Q8VmVydGV4PiA9IHt9O1xuICBjb25zdCBlZGdlczogeyBhOiBzdHJpbmcsIG06IFBvaW50LCBiOiBzdHJpbmcgfVtdID0gW107XG5cbiAgZm9yIChsZXQgaSA9IDE7IGkgPCBjb25qLm51bU1hcmtzICsgMTsgaSsrKSB7XG4gICAgaWYgKGNvbmoubWFya3NbaV0gPT0gJ25vZGUnKSB7XG4gICAgICB2ZXJ0aWNlc1tpXSA9IHsgcDogY29uai5hdmdbaV0sIGVkZ2VzOiBbXSB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChjb25qLm1hcmtzW2ldID09ICdlZGdlJykge1xuICAgICAgY29uc3QgYWRqID0gT2JqZWN0LmtleXMoY29uai5hZGphY2VudFtpXSk7XG4gICAgICBpZiAoYWRqLmxlbmd0aCA9PSAyKSB7XG4gICAgICAgIGVkZ2VzLnB1c2goeyBhOiBhZGpbMF0sIGI6IGFkalsxXSwgbTogY29uai5hdmdbaV0gfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZWRnZXMuZm9yRWFjaCgoZSwgaSkgPT4ge1xuICAgIHZlcnRpY2VzW2UuYV0uZWRnZXMucHVzaCh7IGksIHdoaWNoOiAnYScgfSk7XG4gICAgdmVydGljZXNbZS5iXS5lZGdlcy5wdXNoKHsgaSwgd2hpY2g6ICdiJyB9KTtcbiAgfSk7XG5cbiAgZm9yIChsZXQgdiBvZiBPYmplY3QudmFsdWVzKHZlcnRpY2VzKSkge1xuICAgIHYuZWRnZXMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgY29uc3QgYW0gPSBlZGdlc1thLmldLm07XG4gICAgICBjb25zdCBibSA9IGVkZ2VzW2IuaV0ubTtcbiAgICAgIHJldHVybiBNYXRoLmF0YW4yKGFtLnggLSB2LnAueCwgYW0ueSAtIHYucC55KVxuICAgICAgICAtIE1hdGguYXRhbjIoYm0ueCAtIHYucC54LCBibS55IC0gdi5wLnkpO1xuICAgIH0pXG4gIH1cbiAgcmV0dXJuIHsgdmVydGljZXMsIGVkZ2VzIH07XG59XG5cbmZ1bmN0aW9uIG9wcG9zaXRlKHg6ICdhJyB8ICdiJyk6ICgnYScgfCAnYicpIHtcbiAgcmV0dXJuIHggPT0gJ2EnID8gJ2InIDogJ2EnO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmluZFJvb3RlZEdyYXBoKGc6IEdyYXBoRGF0YSk6IFJvb3RlZEdyYXBoRGF0YSB7XG4gIGNvbnN0IGsgPSBPYmplY3Qua2V5cyhnLnZlcnRpY2VzKTtcbiAgay5zb3J0KChhLCBiKSA9PiBnLnZlcnRpY2VzW2FdLnAueSAtIGcudmVydGljZXNbYl0ucC55KTtcblxuICBjb25zdCBpZDEgPSBrWzBdO1xuICBjb25zdCB2MSA9IGcudmVydGljZXNbaWQxXTtcbiAgY29uc3QgZXNCcmsgPSB2MS5lZGdlc1swXTsgLy8gcmVseWluZyBvbiB0aGUgd2F5IHdlJ3JlIGRvaW5nIGF0YW4yXG4gIC8vIHRvIGhhdmUgYXMgYSBjb25zZXF1ZW5jZSB0aGF0IHRoZSBmaXJzdCBlZGdlIGluIHRoZSBsaXN0IGlzIHRoZSBmaXJzdFxuICAvLyBvbmUgd2Ugc2VlIGNvdW50ZXJjbG9ja3dpc2UgZnJvbSAxMiBvJ2Nsb2NrIHBvc2l0aW9uLiBTbyB3ZVxuICAvLyBicmVhayB0aGUgZWRnZSB0aGF0IGZlZWxzIGxpa2UgaXQncyBnb2luZyBtb3N0IGxlZnRpc2ggZnJvbSB0aGVcbiAgLy8gdG9wLW1vc3QgdmVydGV4LiBQcm9iYWJseSB2aXN1YWxseSBjb3JyZWN0IGluIG1vc3Qgbm9uLXdlaXJkIGNhc2VzLlxuICBjb25zdCB3aGljaDEgPSBlc0Jyay53aGljaDtcbiAgY29uc3Qgd2hpY2gyID0gb3Bwb3NpdGUod2hpY2gxKTtcbiAgY29uc3QgaWRCcmsgPSBlc0Jyay5pO1xuICBjb25zdCBlQnJrID0gZy5lZGdlc1tlc0Jyay5pXTtcbiAgY29uc3QgbSA9IGVCcmsubTtcbiAgY29uc3QgaWQyID0gZUJya1t3aGljaDJdO1xuICBjb25zdCB2MiA9IGcudmVydGljZXNbaWQyXTtcblxuICBjb25zdCBpZE5ldyA9IGcuZWRnZXMubGVuZ3RoO1xuICBjb25zdCBpZDMgPSAnKic7XG4gIC8vIHYyICh3aGljaDIpIC4uLi4gbSAuLi4uICh3aGljaDEpIHYxXG4gIC8vICAgICAgICAgICAgICAgIGlkQnJrXG4gIC8vIC0+XG4gIC8vIHYyICh3aGljaDIpIC4uLi4gKHdoaWNoMSkgdjMgKHdoaWNoMikgLi4uLiAod2hpY2gxKSB2MVxuICAvLyAgICAgICAgICAgIGlkQnJrICAgICAgICAgICAgICAgICAgICAgIGlkTmV3XG4gIGcuZWRnZXNbaWRCcmtdW3doaWNoMl0gPSBpZDI7XG4gIGcuZWRnZXNbaWRCcmtdW3doaWNoMV0gPSBpZDM7XG4gIGcuZWRnZXNbaWRCcmtdLm0gPSB1LnZhdmcodjIucCwgbSk7XG5cbiAgY29uc3QgbmV3RWRnZSA9IHsgYTogJycsIGI6ICcnLCBtOiB1LnZhdmcobSwgdjEucCkgfTtcbiAgbmV3RWRnZVt3aGljaDJdID0gaWQzO1xuICBuZXdFZGdlW3doaWNoMV0gPSBpZDE7XG4gIGNvbnN0IGVkZ2VzID0gZy5lZGdlcy5jb25jYXQoW25ld0VkZ2VdKTtcblxuICBjb25zdCByb290RWRnZXM6IEVkZ2VTcGVjW10gPVxuICAgIFt7IGk6IGlkQnJrLCB3aGljaDogd2hpY2gxIH0sIHsgaTogaWROZXcsIHdoaWNoOiB3aGljaDIgfV07XG4gIGNvbnN0IHZlcnRpY2VzOiBEaWN0PFZlcnRleD4gPSB7fTtcbiAgZm9yIChsZXQgW2ssIHZdIG9mIE9iamVjdC5lbnRyaWVzKGcudmVydGljZXMpKSB7XG4gICAgdmVydGljZXNba10gPSB2O1xuICB9XG4gIHZlcnRpY2VzW2lkMV0gPSB7XG4gICAgcDogdmVydGljZXNbaWQxXS5wLFxuICAgIGVkZ2VzOiB2ZXJ0aWNlc1tpZDFdLmVkZ2VzLm1hcChlID0+XG4gICAgICAoZS5pID09IGlkQnJrKSA/IHsgaTogaWROZXcsIHdoaWNoOiBlLndoaWNoIH0gOiBlXG4gICAgKVxuICB9O1xuICB2ZXJ0aWNlc1tpZDNdID0geyBwOiBtLCBlZGdlczogcm9vdEVkZ2VzIH07XG4gIHJldHVybiB7IGVkZ2VzLCB2ZXJ0aWNlcywgcm9vdDogaWQzIH07XG59XG5cbi8vIGdpdmVzIHRoZSB2ZXJ0ZXggaWQgb24gdGhlICpvdGhlciogc2lkZSBvZiBlc1xuZnVuY3Rpb24gYWNyb3NzKGc6IEdyYXBoRGF0YSwgZXM6IEVkZ2VTcGVjKTogc3RyaW5nIHtcbiAgcmV0dXJuIGcuZWRnZXNbZXMuaV1bb3Bwb3NpdGUoZXMud2hpY2gpXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRMYW1iZGFHcmFwaChnOiBSb290ZWRHcmFwaERhdGEpOiBMYW1iZGFHcmFwaERhdGEge1xuXG4gIGZ1bmN0aW9uIGNvbm5lY3RlZCh2aWQxOiBzdHJpbmcsIHZpZDI6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHNlZW46IERpY3Q8Ym9vbGVhbj4gPSB7fTtcblxuICAgIGNvbnN0IHN0YWNrOiBzdHJpbmdbXSA9IFt2aWQxXTtcbiAgICBsZXQgdjogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgIHdoaWxlICh2ID0gc3RhY2sucG9wKCkpIHtcbiAgICAgIGlmICh2ID09IHZpZDIpIHJldHVybiB0cnVlO1xuICAgICAgaWYgKHNlZW5bdl0pIGNvbnRpbnVlO1xuICAgICAgc2Vlblt2XSA9IHRydWU7XG4gICAgICBjb25zdCB2ZWRnZSA9IGcudmVydGljZXNbdl0uZWRnZXM7XG4gICAgICB2ZWRnZS5mb3JFYWNoKGVzID0+IHtcbiAgICAgICAgaWYgKGVkZ2VzW2VzLmldID09IHVuZGVmaW5lZClcbiAgICAgICAgICBzdGFjay5wdXNoKGFjcm9zcyhnLCBlcykpO1xuICAgICAgfSlcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gYXdheUZyb21NZShlZGdlOiBFZGdlU3BlYykge1xuICAgIGVkZ2VzW2VkZ2UuaV0gPSB7IC4uLmcuZWRnZXNbZWRnZS5pXSwgdGd0OiBvcHBvc2l0ZShlZGdlLndoaWNoKSB9O1xuICB9XG5cbiAgZnVuY3Rpb24gdG93YXJkTWUoZWRnZTogRWRnZVNwZWMpIHtcbiAgICBlZGdlc1tlZGdlLmldID0geyAuLi5nLmVkZ2VzW2VkZ2UuaV0sIHRndDogZWRnZS53aGljaCB9O1xuICB9XG5cbiAgZnVuY3Rpb24gcHJvY2Vzcyh2aWQ6IHN0cmluZywgaW5jb21pbmc6IEVkZ2VTcGVjKTogRXhwIHtcbiAgICBpZiAobGltaXQtLSA8PSAwKSByZXR1cm4geyB0OiAndmFyJyB9O1xuICAgIGlmICh2ZXJ0aWNlc1t2aWRdICE9IHVuZGVmaW5lZClcbiAgICAgIHJldHVybiB7IHQ6ICd2YXInIH07IC8vIGFscmVhZHkgdmlzaXRlZCB0aGlzIHZlcnRleFxuICAgIGNvbnN0IHZlZGdlcyA9IGcudmVydGljZXNbdmlkXS5lZGdlcztcbiAgICAvLyBmaW5kIGluY29taW5nIGVkZ2VcbiAgICBjb25zdCBpaXggPSB2ZWRnZXMuZmluZEluZGV4KGVzID0+IGVzLmkgPT0gaW5jb21pbmcuaSk7XG5cbiAgICAvLyBub3cgd2Uga25vdyB0aGUgb3RoZXIgdHdvIGVkZ2VzXG4gICAgY29uc3QgbGVmdEVkZ2UgPSB2ZWRnZXNbKGlpeCArIDEpICUgM107XG4gICAgY29uc3QgcmlnaHRFZGdlID0gdmVkZ2VzWyhpaXggKyAyKSAlIDNdO1xuXG4gICAgLy8gVGhpcyBpcyBraW5kIG9mIGRlbGljYXRlIGhlcmUuIFdlIHRvc3MgaW4gb3VyIHJpZ2h0IGVkZ2UsIHdoaWNoXG4gICAgLy8gaXMgYWx3YXlzIHRvd2FyZHMgdXM7IGl0J3MgdGhlIGJvZHkgb2YgYSBsYW1iZGEsIG9yIHRoZSBmaXJzdFxuICAgIC8vIGFyZyBvZiBhbiBhcHBsaWNhdGlvbi4gQnV0IGFsc28gdGhhdCBtZWFucyB0aGF0IGVkZ2UgaXNcbiAgICAvLyBjb25zaWRlcmVkIHVudHJhdmVyc2FibGUgd2hlbiB3ZSdyZSB0ZXN0aW5nIGNvbm5lY3Rpdml0eS5cbiAgICB0b3dhcmRNZShyaWdodEVkZ2UpO1xuXG4gICAgLy8gSWYgd2UgY2FuIGdldCB0byB0aGUgdmVydGV4IGFjcm9zcyByaWdodCBlZGdlICphbnl3YXkqLCB0aGF0XG4gICAgLy8gbWVhbnMgdGhlcmUncyBhIGN5Y2xlLCBhbmQgd2Ugc2hvdWxkIGJlIGEgbGFtYmRhLlxuICAgIGlmIChjb25uZWN0ZWQodmlkLCBhY3Jvc3MoZywgcmlnaHRFZGdlKSkpXG4gICAgICByZXR1cm4gcHJvY2Vzc0FzTGFtKHZpZCwgbGVmdEVkZ2UsIHJpZ2h0RWRnZSk7XG4gICAgZWxzZVxuICAgICAgcmV0dXJuIHByb2Nlc3NBc0FwcCh2aWQsIGxlZnRFZGdlLCByaWdodEVkZ2UpO1xuICB9XG5cbiAgZnVuY3Rpb24gcHJvY2Vzc0FzTGFtKHZpZDogc3RyaW5nLCBsZWZ0RWRnZTogRWRnZVNwZWMsIHJpZ2h0RWRnZTogRWRnZVNwZWMpOiBFeHAge1xuICAgIGNvbnN0IHZlcnQgPSBnLnZlcnRpY2VzW3ZpZF07XG4gICAgdmVydGljZXNbdmlkXSA9IHsgLi4udmVydCwgdDogJ2xhbScgfTtcbiAgICBhd2F5RnJvbU1lKGxlZnRFZGdlKTtcblxuICAgIHJldHVybiB7IHQ6ICdsYW0nLCBiOiBwcm9jZXNzKGFjcm9zcyhnLCByaWdodEVkZ2UpLCByaWdodEVkZ2UpIH07XG4gIH1cblxuICBmdW5jdGlvbiBwcm9jZXNzQXNBcHAodmlkOiBzdHJpbmcsIGxlZnRFZGdlOiBFZGdlU3BlYywgcmlnaHRFZGdlOiBFZGdlU3BlYyk6IEV4cCB7XG4gICAgY29uc3QgdmVydCA9IGcudmVydGljZXNbdmlkXTtcbiAgICB2ZXJ0aWNlc1t2aWRdID0geyAuLi52ZXJ0LCB0OiAnYXBwJyB9O1xuICAgIHRvd2FyZE1lKGxlZnRFZGdlKTtcblxuICAgIGNvbnN0IGNsID0gcHJvY2VzcyhhY3Jvc3MoZywgbGVmdEVkZ2UpLCBsZWZ0RWRnZSk7XG4gICAgY29uc3QgY3IgPSBwcm9jZXNzKGFjcm9zcyhnLCByaWdodEVkZ2UpLCByaWdodEVkZ2UpO1xuICAgIHJldHVybiB7IHQ6ICdhcHAnLCBmOiBjciwgYXJnOiBjbCB9O1xuICB9XG5cblxuICBsZXQgbGltaXQgPSAxMDA7XG4gIGNvbnN0IHZlcnRpY2VzOiBEaWN0PExhbWJkYVZlcnRleD4gPSB7fTtcbiAgY29uc3QgZWRnZXM6IExhbWJkYUVkZ2VbXSA9IFtdO1xuICBsZXQgdmlkID0gZy5yb290O1xuICBsZXQgdmVydCA9IGcudmVydGljZXNbdmlkXTtcbiAgY29uc3QgbGVmdEVkZ2UgPSB2ZXJ0LmVkZ2VzWzBdO1xuICBjb25zdCByaWdodEVkZ2UgPSB2ZXJ0LmVkZ2VzWzFdO1xuICB0b3dhcmRNZShyaWdodEVkZ2UpO1xuICBjb25zdCBleHAgPSBwcm9jZXNzQXNMYW0odmlkLCBsZWZ0RWRnZSwgcmlnaHRFZGdlKTtcblxuICByZXR1cm4geyB2ZXJ0aWNlcywgZWRnZXMsIHJvb3Q6IGcucm9vdCwgZXhwIH07XG59XG4iLCJleHBvcnQgdHlwZSBEYXRhID0ge1xuICBpbWc6IHsgW2tleTogc3RyaW5nXTogSFRNTEltYWdlRWxlbWVudCB9XG4gIGpzb246IHsgW2tleTogc3RyaW5nXTogYW55IH1cbn1cblxuZXhwb3J0IGNsYXNzIExvYWRlciB7XG4gIGNvdW50OiBudW1iZXI7XG4gIHRhc2tzOiAoKCkgPT4gdm9pZClbXTtcbiAgZGF0YTogRGF0YTtcbiAgazogKGQ6IERhdGEpID0+IGFueSA9ICgpID0+IHsgfTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmNvdW50ID0gMDtcbiAgICB0aGlzLnRhc2tzID0gW107XG4gICAgdGhpcy5kYXRhID0geyBpbWc6IHt9LCBqc29uOiB7fSB9O1xuICB9XG5cbiAgYWRkKHRhc2s6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLnRhc2tzLnB1c2godGFzayk7XG4gICAgdGhpcy5jb3VudC0tO1xuICB9XG5cbiAgZG9uZShrOiAoZDogRGF0YSkgPT4gdm9pZCk6IHZvaWQge1xuICAgIHRoaXMuayA9IGs7XG4gICAgdGhpcy50YXNrcy5mb3JFYWNoKHggPT4geCgpKTtcbiAgfVxuXG4gIGltYWdlKHNyYzogc3RyaW5nLCBuYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLmFkZCgoKSA9PiB7XG4gICAgICB2YXIgaW0gPSBuZXcgSW1hZ2UoKTtcbiAgICAgIGltLnNyYyA9IHNyYztcbiAgICAgIGltLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5kYXRhLmltZ1tuYW1lXSA9IGltO1xuICAgICAgICB0aGlzLnN1Y2MoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHN1Y2MoKTogdm9pZCB7XG4gICAgaWYgKCsrdGhpcy5jb3VudCA9PSAwKSB7XG4gICAgICB0aGlzLmsodGhpcy5kYXRhKTtcbiAgICB9XG4gIH1cblxuICBqc29uX2ZpbGUod2hpY2g6IHN0cmluZywgdXJsOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAodXJsID09IHVuZGVmaW5lZCkge1xuICAgICAgdXJsID0gd2hpY2ggKyBcIi5qc29uXCI7XG4gICAgfVxuICAgIHRoaXMuYWRkKCgpID0+IHtcbiAgICAgIGNvbnN0IHJlcSA9IG5ldyBSZXF1ZXN0KHVybCk7XG4gICAgICBmZXRjaChyZXEpXG4gICAgICAgIC50aGVuKHIgPT4gci5qc29uKCkpXG4gICAgICAgIC50aGVuKHggPT4ge1xuICAgICAgICAgIHRoaXMuZGF0YS5qc29uW3doaWNoXSA9IHg7XG4gICAgICAgICAgdGhpcy5zdWNjKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChjb25zb2xlLmVycm9yKTtcbiAgICB9KTtcbiAgfVxuXG59XG4iXSwic291cmNlUm9vdCI6IiJ9